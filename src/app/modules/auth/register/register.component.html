<section class="h-100 bg-dark">
    <div class="container py-5 h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col">
          <div class="card card-registration my-4">
            <div class="row g-0">
              <div class="col-xl-6 d-none d-xl-block">
                <img src="./../../../../assets/img/registerImage.jpeg"
                  alt="Sample photo" class="img-fluid"
                  style="border-top-left-radius: .25rem; border-bottom-left-radius: .25rem;" />
              </div>
              <form [formGroup]="formRegister" (ngSubmit)="registrarUsuario()" >
              <div class="col-xl-6">
                <div class="card-body p-md-5 text-black">
                  <h3 class="mb-5 text-uppercase text-center"> <b> <i> Registro Nuevo Usuario</i></b></h3>
                    
                  <div class="row">
                    <div class="col-md-6 mb-4">
                      <div class="form-outline">
                        <input type="text" id="nombre" formControlName="nombre" class="form-control form-control-lg" />
                        <label class="form-label" for="nombre">Nombre</label>
                      </div>
                      <span [hidden]="this.formRegister.invalid && this.formRegister.get('nombre')?.untouched " >
                        <small  *ngIf="this.formRegister.get('nombre')?.errors?.['required']"> <p class="text-danger"> <i>(El nombre no puede quedar vacío)</i></p> </small>
                      </span>
                    </div>
                    <div class="col-md-6 mb-4">
                      <div class="form-outline">
                        <input type="text" id="apellido" formControlName="apellido" class="form-control form-control-lg" />
                        <label class="form-label" for="apellido">Apellido</label>
                      </div>
                      <span [hidden]="this.formRegister.invalid && this.formRegister.get('apellido')?.untouched" >
                        <small *ngIf="this.formRegister.get('apellido')?.errors?.['required']"> <p class="text-danger"> <i> (El Apellido no puede quedar vacío)</i></p></small>
                      </span>
                    </div>
                  </div>
                  <div class="form-outline mb-4">
                    <input type="text" id="rut" formControlName="rutUsuario" class="form-control form-control-lg" />
                    <label class="form-label" for="rutUsuario">Rut</label>
                  </div>
                  <span [hidden]="this.formRegister.invalid && this.formRegister.get('rutUsuario')?.untouched" >
                    <small *ngIf="this.formRegister.get('rutUsuario')?.errors?.['required']"> <p class="text-danger"> <i> (El rut no puede quedar vacío)</i></p></small>
                    <small *ngIf="this.formRegister.get('rutUsuario')?.errors?.['rutValido']"> <p class="text-danger"> <i> (rut inválido )</i></p></small>
                  </span>
  
                  <div class="row">
                    <div class="col-md-6 mb-4">
                      <div class="form-outline">
                        <input type="text" id="email" formControlName="email"  class="form-control form-control-lg" />
                        <label class="form-label" for="email">Email</label>
                      </div>
                      <span [hidden]="this.formRegister.invalid && this.formRegister.get('email')?.untouched" >
                        <small *ngIf="this.formRegister.get('email')?.errors?.['required']" class ="mb-5"> <p class="text-danger"> <i> (El email no puede quedar vacío)</i></p></small>
                        <small *ngIf="this.formRegister.get('email')?.errors?.['pattern']" class ="mb-5"> <p class="text-danger"> <i> (El email no cumple con el formato)</i></p></small>
                      </span>
                    </div>
                    <div class="col-md-6 mb-4">
                      <div class="form-outline">
                        <div class="input-group input-group-md ">

                        <span class="input-group-text" id="inputGroup-sizing-sm">+569</span>
                        <input aria-describedby="inputGroup-sizing-sm"   type="text"  id="telefono" formControlName="telefono" class="form-control form-control-lg" />
                        </div>
                        <label class="form-label" for="telefono">telefono</label>

                      </div>
                      <span [hidden]="this.formRegister.invalid && this.formRegister.get('telefono')?.untouched">
                        <small  *ngIf="this.formRegister.get('telefono')?.errors?.['required']"> <p class="text-danger"> <i> (El telefono no puede quedar vacío)</i></p> </small>
                        <small  *ngIf="this.formRegister.get('telefono')?.errors?.['pattern']"> <p class="text-danger"> <i> (El telefono debe tener 8 números)</i></p> </small>


                      </span>
                    </div>
                  </div>

                  <hr>
                  <br>
  
                  <div class="form-outline mb-4">
                    <input type="text" id="usermame" formControlName="username" class="form-control form-control-lg" />
                    <label class="form-label" for="username">Nombre de Usuario</label>
                  </div>
                  <span [hidden]="this.formRegister.invalid && this.formRegister.get('username')?.untouched" >
                    <small *ngIf="this.formRegister.get('username')?.errors?.['required']"> <p class="text-danger"> <i>(El username no puede quedar vacío)</i></p> </small>
                  </span>

                  <div class="form-outline mb-4">
                    <input type="password" id="password" formControlName="password" class="form-control form-control-lg" />
                    <label class="form-label" for="password">Contraseña</label>
                  </div>
                  <span [hidden]="this.formRegister.invalid && this.formRegister.get('password')?.untouched" >
                    <small *ngIf="this.formRegister.get('password')?.errors?.['required']"> <p class="text-danger"> <i> (El password no puede quedar vacío)</i></p></small>
                    <small *ngIf="this.formRegister.get('password')?.errors?.['passwordStrength']"> <p class="text-danger"> <i> (La contraseña es muy debil , Incluya Mayúsculas y simbolos)</i></p></small>

                  </span>

                  <div class="form-outline mb-4">
                    <input type="password" id="password2" formControlName="password2" class="form-control form-control-lg" />
                    <label class="form-label" for="password2">Repita su contraseña</label>
                  </div>
                  <span [hidden]="this.formRegister.invalid && this.formRegister.get('password2')?.untouched" >
                    <small *ngIf="this.formRegister.get('password2')?.errors?.['required']"> <p class="text-danger"> <i> (El password no puede quedar vacío)</i></p></small>
                    <small *ngIf="formRegister.hasError('notSame')"> <p class="text-danger"> <i> Las contraseñas no coinciden</i></p></small>

                  </span>
      
  
                  <div class="d-flex justify-content-end pt-3">
                    <button type="button" class="btn btn-outline-success btn-lg">Limpiar</button>
                    <button type="submit" class="btn btn-success btn-lg ms-2">Crear Usuario</button>
                  </div>

                </div>
              </div>
            </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>